import{d as j,N as D,ac as O,j as i,h as F,x as T,o as l,c as u,F as U,r as c,e as t,l as f,a4 as P,ad as E,M as I,m as M,b as w,a0 as Y,ae as q,n as G,S as H}from"./framework.D9kFHdZA.js";import{_ as b}from"./Icon.vue_vue_type_script_setup_true_lang.DxazROui.js";const se=Symbol("formContextKey"),J=Symbol("formItemContextKey"),L={key:0,class:"yv-input__prepend"},Q={class:"yv-input__wrapper"},W={key:0,class:"yv-input__prefix"},X=["type","disabled","readonly","autocomplete","placeholder","autofocus","form"],Z={key:1,class:"yv-input__append"},x=["disabled","readonly","autocomplete","placeholder","autofocus","form"],oe=j({name:"YvInput",inheritAttrs:!1,__name:"Input",props:{type:{default:"text"},modelValue:{},size:{},disabled:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},placeholder:{},readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:{}},emits:["update:modelValue","input","change","focus","blur","clear"],setup(z,{expose:K,emit:N}){const s=z,o=N,y=D(J,void 0),m=e=>{y==null||y.validate(e).catch(n=>{console.warn(n.errors)})},k=O(),a=i(s.modelValue),p=i(!1),r=i(!1),d=i(),V=F(()=>s.clearable&&!s.disabled&&!!a.value&&p.value),v=F(()=>s.showPassword&&!s.disabled&&!!a.value),$=()=>{r.value=!r.value},S=()=>{},A=async()=>{await H(),d.value.focus()},C=()=>{o("update:modelValue",a.value),o("input",a.value),m("input")},B=()=>{o("change",a.value),m("change")},g=e=>{p.value=!0,o("focus",e)},_=e=>{p.value=!1,o("blur",e),m("blur")},R=()=>{a.value="",o("update:modelValue",""),o("clear"),o("input",""),o("change","")};return T(()=>s.modelValue,e=>{a.value=e}),K({ref:d}),(e,n)=>(l(),u("div",{class:G(["yv-input",{[`yv-input--${e.type}`]:s.type,[`yv-input--${e.size}`]:s.size,"is-disabled":s.disabled,"is-prepend":e.$slots.prepend,"is-append":e.$slots.append,"is-prefix":e.$slots.prefix,"is-suffix":e.$slots.suffix,"is-focus":p.value}])},[e.type!=="textarea"?(l(),u(U,{key:0},[e.$slots.prepend?(l(),u("div",L,[c(e.$slots,"prepend")])):t("",!0),f("div",Q,[e.$slots.prefix?(l(),u("span",W,[c(e.$slots,"prefix")])):t("",!0),P(f("input",I({ref_key:"inputRef",ref:d},M(k),{class:"yv-input__inner",type:e.showPassword?r.value?"text":"password":e.type,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":n[0]||(n[0]=h=>a.value=h),onInput:C,onChange:B,onFocus:g,onBlur:_}),null,16,X),[[E,a.value]]),e.$slots.suffix||V.value||v.value?(l(),u("span",{key:1,class:"yv-input__suffix",onClick:A},[c(e.$slots,"suffix"),V.value?(l(),w(b,{key:0,onClick:R,icon:"circle-xmark",class:"yv-input__clear",onMousedown:Y(S,["prevent"])})):t("",!0),v.value&&r.value?(l(),w(b,{key:1,icon:"eye",onClick:$,class:"yv-input__password"})):t("",!0),v.value&&!r.value?(l(),w(b,{key:2,icon:"eye-slash",onClick:$,class:"yv-input__password"})):t("",!0)])):t("",!0)]),e.$slots.append?(l(),u("div",Z,[c(e.$slots,"append")])):t("",!0)],64)):t("",!0),f("template",null,[P(f("textarea",I({ref_key:"inputRef",ref:d},M(k),{class:"yv-textarea__wrapper",disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":n[1]||(n[1]=h=>a.value=h),onInput:C,onChange:B,onFocus:g,onBlur:_}),null,16,x),[[q,a.value]])])],2))}});export{oe as _,J as a,se as f};
